<div class="col-xs-12 my-pro-wallet" *ngIf="userTransactionsHistory">
	<p-confirmDialog key="redeemDialog"></p-confirmDialog>
	<div class="row address-holder">
		<form [formGroup]="proWalletAddressForm" (ngSubmit)="onSubmit()">
			<div class="form-group col-xs-12 col-sm-8">
				<input formControlName="proWalletAddress" type="text" class="form-control propy-control" id="name"
					   placeholder="{{ 'settings.set-pro-address.your-ethereum-address-placeholder' | translate }}">
			</div>
			<div class="col-xs-12 col-sm-4 col-lg-3">
				<button class="btn btn-block propy-control button-big" [disabled]="proWalletAddressForm.invalid">
					{{ 'common.label.set' | translate }}
				</button>
			</div>

		</form>
	</div>
	<div class="row redeem-holder" *ngIf="shouldShowRedeemSection">
		<div class="col-xs-12 col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3">
			<button class="btn btn-block propy-control button-big"
					(click)="redeemProTokens()">
				{{ 'settings.my-pro-wallet.redeem-button' | translate }}
				{{ stashedTokensBalance }}
				{{ 'settings.my-pro-wallet.pro-currency' | translate }}
			</button>
		</div>
	</div>
	<div class="transaction-holder">
		<div class="row transaction-header">
			<div class="col-xs-12">
				{{ 'settings.my-pro-wallet.transaction-heading' | translate }}
				<i class="fa fa-refresh" (click)="refreshTransactionHistory()"></i>
			</div>
		</div>
		<div [ngClass]="{'refresh-processing' : refreshTransactionHistoryProcessing }">
			<div class="row" *ngIf="userTransactionsHistory.transactions.length > 0; else noTransactionHolder">
				<div class="col-xs-12 transaction-record"
					 *ngFor="let transaction of userTransactionsHistory.transactions"
					 [ngClass]="{'tx-pending': transaction.status == 0, 'tx-completed': transaction.status == 1,
						'tx-rejected': transaction.status == 2}">
					<div class="row">
						<div class="col-xs-3 col-sm-2 label-holder">
							{{ 'settings.my-pro-wallet.transaction-number' | translate }}
						</div>
						<div class="col-xs-9 col-sm-10">
							<div class="input-group">
								<input readonly type="text" class="form-control" value="{{transaction.txId}}"
									   #txIdInput>
								<span class="input-group-btn">
									<button class="btn btn-default" type="button"
											[ngxClipboard]="txIdInput"><i class="fa fa-clone"></i></button>
								</span>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-3 col-sm-2 label-holder">
							{{ 'settings.my-pro-wallet.recipient' | translate }}
						</div>
						<div class="col-xs-9 col-sm-10">
							<input readonly title="Recipient" type="text" class="form-control"
								   value="{{transaction.recipient}}">
						</div>
					</div>
					<div class="row">
						<div class="col-xs-3 col-sm-2 label-span">
							{{ 'settings.my-pro-wallet.status' | translate}}
						</div>
						<div class="col-xs-9 col-sm-10 value">
							{{ transaction.status | transactionStatusLocalizeKey | translate }}
						</div>
					</div>
					<div class="row">
						<div class="col-xs-3 col-sm-2 label-span">
							{{ 'settings.my-pro-wallet.reason' | translate}}
						</div>
						<div class="col-xs-9 col-sm-10 value">
							{{ transaction.reward | transactionRewardLocalizeKey | translate }}
						</div>
					</div>
					<div class="row">
						<div class="col-xs-3 col-sm-2 label-span">
							{{ 'settings.my-pro-wallet.amount' | translate }}
						</div>
						<div class="col-xs-9 col-sm-10 value">
							{{ transaction.amount }} {{ 'settings.my-pro-wallet.pro-currency' | translate }}
						</div>
					</div>
				</div>
			</div>
			<ng-template #noTransactionHolder>
				<div class="row transaction-record">
					<div class="col-xs-12 text-center">
						<h6>{{ 'settings.my-pro-wallet.no-transactions' | translate }}</h6>
					</div>
				</div>
			</ng-template>
		</div>
	</div>
</div>
